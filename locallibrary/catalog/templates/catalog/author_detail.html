{% extends "base_generic.html" %}

{% block content %}
  <h1>Author: {{ author.last_name }}, {{ author.first_name }}</h1>
  <p>{{author.date_of_birth}} - {% if author.date_of_death %}{{author.date_of_death}} {% else %} {% endif %}


  <div style="margin-left:20px;margin-top:20px">
    <h4>Books</h4>

    <dl>
      <!-- author.book_set.all(). This method is "automagically" constructed by Django in order to return the set of book records associated with a particular Author-->
      {% for book in author.book_set.all %}
        <dt><a href="{% url 'book-detail' book.pk %}">{{book.title}}</a> ({{book.bookinstance_set.all.count}})</dt>
        <dd>{{book.summary}}</dd>
      {% endfor %}
    </dl>
  </div>
{% endblock %}